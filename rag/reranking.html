<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Margi Pandya - Portfolio</title>
  <link rel="stylesheet" href="../styles.css">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <!-- Top Navigation Bar -->
  <div class="masthead">
    <div class="masthead__inner-wrap">
      <div class="masthead__menu">
        <nav id="site-nav" class="greedy-nav">
          <button><div class="navicon"></div></button>
          <ul class="visible-links">
            <li class="masthead__menu-item masthead__menu-item--lg">
              <a href="https://margipandya27.github.io/MargiPandya/">Margi Pandya</a>
            </li>
            <li class="masthead__menu-item">
              <a href="https://margipandya27.github.io/MargiPandya/projects.html">Projects</a>
            </li>
            <li class="masthead__menu-item">
              <a href="https://margipandya27.github.io/MargiPandya/notes.html">Blogs</a>
            </li>
            <li class="masthead__menu-item">
              <a href="https://margipandya27.github.io/MargiPandya/publications.html">Publications</a>
            </li>
          </ul>
          <ul class="hidden-links hidden"></ul>
        </nav>
      </div>
    </div>
  </div>
  
  <div class="page-content">
    <!-- Sidebar -->
    <aside class="sidebar sticky">
      <div class="mainnotes-sidebar">
        <h3>Content</h3>
        <ul>
          <li><a href="#classical-rag">Classical RAG</a></li>
          <li><a href="#re-ranking-models">With Re-ranking Models</a></li>
          <li><a href="#types-of-re-ranking-models">Types of Re-ranking Models</a></li>
          <li><a href="#colbert">ColBERT</a></li>
          <li><a href="#colbertv2">ColBERTv2</a></li>
          <li><a href="#rankgpt">RankGPT</a></li>
        </ul>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="content">
      <h1>Does Re-ranking Improve the Performance of RAG?</h1>
      <p>
        Yes, re-ranking is a crucial step that can significantly improve the performance of a Retrieval-Augmented Generation (RAG) system. While the initial retrieval stage fetches a broad set of documents, the re-ranking stage refines this set, ensuring that only the most relevant and highest-quality information is passed to the LLM.
      </p>
      <p>Let's look at the process in more detail.</p>

      <hr>

      <h2 id="classical-rag">1. Classical RAG</h2>
      <p>In a traditional RAG pipeline, the process is as follows:</p>
      <ul>
        <li><strong>Retriever:</strong> A dense retriever (e.g., FAISS, DPR) or a sparse retriever (e.g., BM25) fetches the top-k passages.</li>
        <li><strong>Generator:</strong> An LLM (like GPT-4) conditions its response on these k passages to produce an answer.</li>
      </ul>
      <p><strong>Problem:</strong></p>
      <ul>
        <li>Increase token input length, leading to higher cost.</li>
        <li>Make the LLMâ€™s reasoning harder, potentially causing hallucinations or irrelevant content.</li>
      </ul>

      <hr>

      <h2 id="re-ranking-models">2. With Re-ranking Models</h2>
      <p>
        Re-ranking is a fine-grained retrieval step that analyzes the relationship between a query and documents more deeply. After the initial retrieval, the top document chunks are passed through a re-ranking model, which re-sorts them in descending order based on their importance to the input query.
      </p>

      <h3 id="types-of-re-ranking-models">Types of Re-ranking Models:</h3>
      <ol>
        <li><strong>Cross-Encoder based models:</strong> ColBERT, ColBERTv2</li>
        <li><strong>LLM-based re-ranking models:</strong> RankGPT</li>
        <li><strong>API-based models:</strong> CohereAPI</li>
      </ol>

      <h3 id="colbert">Cross-Encoder based Models: ColBERT</h3>
      <p>ColBERT uses a BERT model to encode tokens into embeddings, which is effective because:</p>
      <ul>
        <li><strong>Masked Language Modeling (BERT):</strong> Creates bidirectional contextual embeddings.</li>
        <li><strong>Causal Modeling (LLM):</strong> Unidirectional, better for generation, but not as strong for retrieval.</li>
      </ul>

      <figure class="rag-figure">
        <img src="Colbert_1.png" alt="ColBERT architecture">
        <figcaption><strong>Figure 1:</strong> ColBERT architecture and retrieval flow.</figcaption>
      </figure>

      <!-- ColBERT explanation continues here... -->

      <h3 id="colbertv2">ColBERTv2</h3>
      <p><strong>ColBERTv2</strong> improves ColBERT with knowledge distillation and compressed indexing.</p>

      <figure class="rag-figure">
        <img src="colbert_v2.png" alt="ColBERTv2 pipeline">
        <figcaption><strong>Figure 2:</strong> ColBERTv2 retrieval and re-ranking pipeline.</figcaption>
      </figure>

      <h3 id="rankgpt">LLM-based Re-ranking Models: RankGPT</h3>
      <p>
        RankGPT uses <strong>permutation knowledge distillation</strong> with sliding window data generation and RankNet loss.
      </p>

      <figure class="rag-figure">
        <img src="rankgpt_data_generation.png" alt="RankGPT pipeline">
        <figcaption><strong>Figure 3:</strong> RankGPT training via sliding windows and permutation distillation.</figcaption>
      </figure>

      <section class="references">
        <h2>References</h2>
        <ul>
          <li>Khattab, O., & Zaharia, M. (2020). ColBERT: Efficient and Effective Passage Search via Contextualized Late Interaction over BERT. <em>SIGIR</em>.</li>
          <li>Santhanam, K., et al. (2022). ColBERTv2: Effective and Efficient Retrieval via Lightweight Late Interaction. <em>arXiv:2112.01488</em>.</li>
          <li>Sun, S., et al. (2023). RankGPT: Instruction Tuning for Generative Ranking. <em>arXiv:2304.09569</em>.</li>
          <li>Cohere AI. (2023). Cohere Rerank API Documentation. Retrieved from <a href="https://docs.cohere.com">https://docs.cohere.com</a>.</li>
        </ul>
      </section>
    </main>
  </div>

  <footer class="page__meta"></footer>
  <div class="page__footer">
    <footer>
      <p>@2025 Margi Pandya</p>
    </footer>
  </div>
</body>
</html>
